(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3519:(t,e,r)=>{Promise.resolve().then(r.bind(r,1606)),Promise.resolve().then(r.t.bind(r,1749,23)),Promise.resolve().then(r.t.bind(r,1126,23)),Promise.resolve().then(r.t.bind(r,6934,23))},5353:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMergedRef",{enumerable:!0,get:function(){return o}});let n=r(2115);function o(t,e){let r=(0,n.useRef)(()=>{}),o=(0,n.useRef)(()=>{});return(0,n.useMemo)(()=>t&&e?n=>{null===n?(r.current(),o.current()):(r.current=s(t,n),o.current=s(e,n))}:t||e,[t,e])}function s(t,e){if("function"!=typeof t)return t.current=e,()=>{t.current=null};{let r=t(e);return"function"==typeof r?r:()=>t(null)}}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},3576:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(306)._(r(2115)).default.createContext(null)},7448:(t,e,r)=>{"use strict";r.d(e,{q:()=>n});class n{getId(){return this.code}getDescription(){return this.description}getTitle(){return this.name}getPrice(){return this.price}getQty(){return this.qty}setQty(t){this.qty=t}setTotal(){this.totalPrice=this.getPrice()*this.getQty()}getTotalPrice(){return this.totalPrice*this.getQty()}formatPrice(t){return isNaN(t)?"0,00":t.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g," ")}constructor(t,e){this.name=t.name,this.code=t.code,this.price=t.price,this.description=t.description,this.qty=e||1,this.totalPrice=0,this.image=t.image}}},1606:(t,e,r)=>{"use strict";r.d(e,{default:()=>v});var n=r(5155),o=r(6514),s=r.n(o),c=r(6669),a=r(4385),i=r(9275),d=r(7116),l=r.n(d);function u(){let{currentItem:t}=(0,c.mt)();return(0,n.jsxs)("div",{className:"row flex ".concat(l().cardProduct),children:[(0,n.jsx)("div",{className:"".concat(l().cardProductImage),children:(0,n.jsx)(i.A,{alt:"image",url:"/placeholder.webp"})}),(0,n.jsxs)("div",{className:"".concat(l().cardProductInfo),children:[(0,n.jsxs)("div",{className:"".concat(l().cardProductInfoTitle),children:[null==t?void 0:t.getTitle(),(0,n.jsx)("span",{})]}),(0,n.jsx)("div",{className:"".concat(l().cardProductInfoPrice),children:(0,n.jsxs)("p",{children:[null==t?void 0:t.getPrice()," AMD"]})}),(0,n.jsx)("div",{className:"".concat(l().cardProductInfoDescription),children:null==t?void 0:t.getDescription()})]})]})}var m=r(2115);function f(){return(0,n.jsx)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}var h=r(788),p=r.n(h),_=r(1383),g=r(9689),w=r(7448);function y(){var t;let{cartItems:e,removeItem:r,cartTotal:o,addItem:s,cleanCart:i}=(0,c._$)(),{setCardState:d}=(0,c.mt)(),{cardViewState:l}=(0,c.LM)(),{currentHistoryItem:u}=(0,c.GD)();(0,m.useEffect)(()=>{let t=localStorage.getItem("cartItems");if(t)try{JSON.parse(t).map(t=>new w.q(t,t.qty)).forEach(t=>s(t))}catch(t){console.error("Error parsing cart data:",t)}},[s]);let h=async()=>{let t=(0,_.R)("user");(0,g.lD)(e,t?parseInt(t):-1,o),i(),d(!1)};function y(t){return isNaN(t)?"0,00":t.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g," ")}return(0,n.jsxs)("div",{className:"".concat(p().cardList),children:[(0,n.jsxs)("div",{className:"".concat(p().cardListRow," flex row"),children:[(0,n.jsx)("div",{className:" ".concat(p().cardListRowTitle),children:(0,n.jsx)("span",{children:"Name"})}),(0,n.jsx)("div",{className:" ".concat(p().cardListRowTitle),children:(0,n.jsx)("span",{children:"Qty"})}),(0,n.jsx)("div",{className:" ".concat(p().cardListRowTitle),children:(0,n.jsx)("span",{children:"Price"})}),(0,n.jsx)("div",{className:" ".concat(p().cardListRowTitle),children:(0,n.jsx)("span",{children:"Total"})})]}),(0,n.jsx)("div",{className:"".concat(p().cardListData),children:null===(t=l===a.G.History?u:e)||void 0===t?void 0:t.map((t,e)=>(0,n.jsxs)("div",{className:"row flex ".concat(p().cardListDataRow),children:[(0,n.jsx)("div",{className:"".concat(p().cardListDataRowElement),children:(0,n.jsx)("span",{children:t.name})}),(0,n.jsx)("div",{className:"".concat(p().cardListDataRowElement),children:t.qty}),(0,n.jsx)("div",{className:"".concat(p().cardListDataRowElement),children:(0,n.jsxs)("span",{children:[y(t.price)," AMD"]})}),(0,n.jsxs)("div",{className:"".concat(p().cardListDataRowElement," flex"),children:[(0,n.jsxs)("span",{children:[y(t.price*t.qty)," AMD"]}),l!==a.G.History&&(0,n.jsx)("button",{onClick:()=>r(t.getId()),children:(0,n.jsx)(f,{})})]})]},e))}),l!==a.G.History&&(0,n.jsxs)("div",{className:"".concat(p().cardListCheckout," flex"),children:[(0,n.jsxs)("h1",{children:["Total: ",(0,n.jsxs)("span",{children:[y(o)," AMD"]})]}),(0,n.jsx)("button",{onClick:h,children:"Request"})]})]})}function v(){let{cardState:t,setCardState:e,setCurrentItem:r}=(0,c.mt)(),{cardViewState:o}=(0,c.LM)();return(0,m.useEffect)(()=>()=>{let e=document.getElementsByTagName("body")[0],r=t?"scroll":"hidden";e.style.overflowY=r},[t]),(0,n.jsx)("div",{className:s().cardContainer,style:{display:t?"flex":"none"},children:(0,n.jsxs)("div",{className:"".concat(s().card),children:[(0,n.jsx)("div",{className:"row ".concat(s().cardButton),children:(0,n.jsx)("button",{onClick:()=>{e(!1),r(null)},children:"X"})}),o===a.G.Product?(0,n.jsx)(u,{}):(0,n.jsx)(y,{})]})})}},9275:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(5155),o=r(5565);function s(t){let{url:e,alt:r}=t;return(0,n.jsx)(o.default,{src:e,alt:r,fill:!0})}},6669:(t,e,r)=>{"use strict";r.d(e,{FI:()=>m,G7:()=>u,GD:()=>f,LM:()=>i,R7:()=>s,Rf:()=>d,_$:()=>c,iZ:()=>l,mt:()=>a});var n=r(9827),o=r(4385);let s=(0,n.v)(t=>({filters:[],addFilter:e=>t(t=>({filters:[...t.filters,e]})),removeFilter:e=>t(t=>({filters:t.filters.filter(t=>t.id!==e)}))})),c=(0,n.v)((t,e)=>({cartItems:[],cartTotal:0,addItem:e=>t(t=>{let r;let n=t.cartItems.findIndex(t=>t.getId()===e.getId());return -1!==n?(r=[...t.cartItems])[n].setQty(e.getQty()):r=[...t.cartItems,e],localStorage.setItem("cartItems",JSON.stringify(r)),{cartItems:r,cartTotal:r.reduce((t,e)=>t+e.getPrice()*e.getQty(),0)}}),removeItem:e=>t(t=>{let r=t.cartItems.find(t=>t.getId()===e);if(!r)return t;let n=t.cartItems.filter(t=>t.getId()!==e),o=r.getPrice()*r.getQty();return localStorage.setItem("cartItems",JSON.stringify(n)),{cartItems:n,cartTotal:t.cartTotal-o}}),getItemCount:()=>e().cartItems.length,cleanCart:()=>t(()=>(localStorage.removeItem("cartItems"),{cartItems:[]}))})),a=(0,n.v)(t=>({cardState:!1,currentItem:null,setCardState:e=>t(()=>({cardState:e})),setCurrentItem:e=>t(()=>({currentItem:e}))})),i=(0,n.v)(t=>({cardViewState:o.G.List,setCardView:e=>t(()=>({cardViewState:e}))})),d=(0,n.v)(t=>({activeState:o.B.History,setActiveState:e=>t(()=>({activeState:e}))})),l=(0,n.v)(t=>({user_data:{documentId:"",first_name:"",last_name:"",company:""},set_current_user:e=>t(()=>({user_data:e}))}));(0,n.v)(t=>({is_logged_in:!1,set_logged_in_status:e=>t(()=>({is_logged_in:e}))}));let u=(0,n.v)(t=>({products:[],searchQuery:"",loading:!0,setSearchQuery:e=>t({searchQuery:e}),add_product:e=>t(t=>({products:[...t.products,...e],loading:!1}))})),m=(0,n.v)(t=>({isError:!1,setIsError:e=>t({isError:e})})),f=(0,n.v)(t=>({currentHistoryItem:[],setCurrentHistoryItem:e=>t({currentHistoryItem:e})}))},4385:(t,e,r)=>{"use strict";r.d(e,{B:()=>o,G:()=>n});var n=function(t){return t[t.Product=0]="Product",t[t.List=1]="List",t[t.History=2]="History",t}({}),o=function(t){return t[t.History=0]="History",t[t.Settings=1]="Settings",t}({})},1383:(t,e,r)=>{"use strict";r.d(e,{R:()=>n});let n=t=>{let e=document.cookie.split("; ").find(e=>e.startsWith(t+"="));return e?e.split("=")[1]:null}},9689:(t,e,r)=>{"use strict";r.d(e,{lD:()=>b,Oq:()=>D,sR:()=>E,DJ:()=>R,iD:()=>C});var n=r(5991),o=r(3634);let s=new n.R({uri:"https://vetgroup.am/admin/graphql",cache:new o.D});var c=r(1716);async function a(t,e,r){try{let{data:n,loading:o,error:c}=await s.query({query:t,fetchPolicy:"no-cache",variables:e||null,context:{headers:r||{}}});if(o)return null;if(c&&console.error("Error fetching data:",c),!n)throw Error("No data found");return n}catch(t){if(t instanceof c.K4||t instanceof Error)return;console.error("Unknown error:",t)}}var i=r(698),d=r(8247);function l(){let t=(0,i._)(["\n  mutation Login($identifier: String!, $password: String!) {\n    login(input: { identifier: $identifier, password: $password }) {\n      jwt\n      user {\n        documentId\n        id\n      }\n    }\n  }\n"]);return l=function(){return t},t}function u(){let t=(0,i._)(["\n  query GetVetgroupUsers($id: ID!) {\n    vetgroupUsers(filters: { user: { documentId: { eq: $id } } }) {\n      user {\n        first_name\n        last_name\n        company\n      }\n    }\n  }\n"]);return u=function(){return t},t}function m(){let t=(0,i._)(["\n  mutation ChangePassword(\n    $old_password: String!\n    $new_password: String!\n    $confirm_password: String!\n  ) {\n    changePassword(\n      currentPassword: $old_password\n      password: $new_password\n      passwordConfirmation: $confirm_password\n    ) {\n      user {\n        documentId\n      }\n    }\n  }\n"]);return m=function(){return t},t}function f(){let t=(0,i._)(["\n  query GetProducts($start: Int!, $limit: Int!) {\n    products(pagination: { start: $start, limit: $limit }) {\n      code\n      name\n      description\n      price\n      image {\n        url\n      }\n    }\n  }\n"]);return f=function(){return t},t}function h(){let t=(0,i._)(["\n  mutation CreateOrder(\n    $order_id: String!\n    $created: DateTime!\n    $total: Float!\n    $products: String!\n    $users_permissions_user: ID!\n    $products_json: JSON!\n  ) {\n    createOrder(\n      data: {\n        order_id: $order_id\n        created: $created\n        total: $total\n        products: $products\n        users_permissions_user: $users_permissions_user\n        products_json: $products_json\n      }\n    ) {\n      order_id\n      created\n      total\n      products\n      products_json\n      users_permissions_user {\n        email\n      }\n    }\n  }\n"]);return h=function(){return t},t}function p(){let t=(0,i._)(['\n  query {\n    orders(sort: "id:desc", pagination: { limit: 1 }) {\n      order_id\n    }\n  }\n']);return p=function(){return t},t}function _(){let t=(0,i._)(["\n  query ($documentId: ID!) {\n    orders(\n      filters: { users_permissions_user: { documentId: { eq: $documentId } } }\n    ) {\n      order_id\n      total\n      created\n      products_json\n    }\n  }\n"]);return _=function(){return t},t}let g=(0,d.J1)(l());(0,d.J1)(u());let w=(0,d.J1)(m()),y=(0,d.J1)(f()),v=(0,d.J1)(h()),I=(0,d.J1)(p()),x=(0,d.J1)(_());var j=r(9208),P=r(6669);function L(t){P.FI.setState({isError:t})}let S=()=>new Date().toISOString().split(".")[0]+"Z",N=t=>{if(!Array.isArray(t)||0===t.length)return"<p>No items available</p>";let e="\n    <table border='1' cellpadding='5' cellspacing='0' style='border-collapse: collapse; width: 100%;'>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Code</th>\n          <th>Description</th>\n          <th>Image</th>\n          <th>Price</th>\n          <th>Quantity</th>\n        </tr>\n      </thead>\n      <tbody>";return t.forEach(t=>{e+="\n      <tr>\n        <td>".concat(t.name,"</td>\n        <td>").concat(t.code,"</td>\n        <td>").concat(t.description,"</td>\n        <td>").concat(t.image?"<img src='".concat(t.image,"' width='50'>"):"No Image","</td>\n        <td>").concat(t.price," AMD</td>\n        <td>").concat(t.qty,"</td>\n      </tr>")}),(e+="\n      </tbody>\n    </table>").trim()};async function C(t,e){try{let r=await a(g,{identifier:t,password:e});if(!r||r.errors){L(!0);return}let{jwt:n}=r.login;if(!n)throw Error("JWT not found in the response");document.cookie="jwt=".concat(n,"; path=/; SameSite=Strict");let{documentId:o,id:s}=r.login.user;if(!o)throw Error("documentId not found in the response");return window.location.href="/",document.cookie="document=".concat(o,"; path=/; SameSite=Strict"),document.cookie="user=".concat(s,"; path=/;  SameSite=Strict"),L(!1),o}catch(t){t instanceof c.K4?console.error("GraphQL error:",t.message):t instanceof Error?console.error("JS error:",t.message):console.error("Unknown error:",t)}}async function D(t,e,r){try{let n=j.A.get("jwt");return await a(w,{old_password:t,new_password:e,confirm_password:r},{Authorization:"Bearer ".concat(n)})}catch(t){t instanceof c.K4?console.error("GraphQL error:",t.message):t instanceof Error?console.error("JS error:",t.message):console.error("Unknown error:",t)}}async function E(t,e){try{return await a(y,{start:t,limit:e})||{products:[]}}catch(t){return console.error("Error fetching products:",t),{products:[]}}}async function $(){try{return await a(I,{})}catch(t){t instanceof c.K4?console.error("GraphQL error:",t.message):t instanceof Error?console.error("JS error:",t.message):console.error("Unknown error:",t)}}async function b(t,e,r){let n=await $(),o=0===n.orders.length?"1":(parseInt(n.orders[0].order_id)+1).toString(),s=S(),i=N(t);try{return await a(v,{order_id:o,created:s,total:r,products:i,users_permissions_user:e,products_json:t})}catch(t){t instanceof c.K4?console.error("GraphQL error:",t.message):t instanceof Error?console.error("JS error:",t.message):console.error("Unknown error:",t)}}async function R(t){try{let e=await a(x,{documentId:t});if(!e||!e)throw Error("Invalid response from API");return e}catch(t){t instanceof c.K4?console.error("GraphQL error:",t.message):t instanceof Error?console.error("JS error:",t.message):console.error("Unknown error:",t)}}},1126:()=>{},1749:()=>{},6514:t=>{t.exports={cardContainer:"card_cardContainer__CLzCF",card:"card_card___zOGa",cardButton:"card_cardButton__0VUeE"}},788:t=>{t.exports={cardListRow:"cardListView_cardListRow__DUjn_",cardListRowTitle:"cardListView_cardListRowTitle__gT7v1",cardListData:"cardListView_cardListData__CP5j5",cardListDataRow:"cardListView_cardListDataRow__o4Iir",cardListDataRowElement:"cardListView_cardListDataRowElement__me2yC",cardListCheckout:"cardListView_cardListCheckout__a988D"}},7116:t=>{t.exports={cardProduct:"cardProductView_cardProduct__UeH5h",cardProductImage:"cardProductView_cardProductImage__FBVR3",cardProductInfo:"cardProductView_cardProductInfo__jvNBk",cardProductInfoTitle:"cardProductView_cardProductInfoTitle__NFT_T",cardProductInfoPrice:"cardProductView_cardProductInfoPrice__BK5YQ",cardProductInfoDescription:"cardProductView_cardProductInfoDescription__sSYc2"}},6934:t=>{t.exports={style:{fontFamily:"'Montserrat', 'Montserrat Fallback'",fontStyle:"normal"},className:"__className_4bc053"}}},t=>{var e=e=>t(t.s=e);t.O(0,[114,326,565,441,517,358],()=>e(3519)),_N_E=t.O()}]);